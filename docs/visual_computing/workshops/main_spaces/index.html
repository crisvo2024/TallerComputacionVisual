<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Taller Main Spaces #  1. Introducción #  En este taller se exploraron las posibilidades de las transformaciones espaciales para la producción de piezas en 3D, especialmente se hace uso de estas transformaciónes al proyectar los resultados de la pieza 3D en la pantalla, así como a partir de movimientos y gestos realizados sobre la pantalla modificar la pieza 3D al agregar objetos en su mundo, esto sin contar con las transformaciónes intermedias para lograr algunos efectos en la pantalla como la iluminación."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Taller Main Spaces #  1. Introducción #  En este taller se exploraron las posibilidades de las transformaciones espaciales para la producción de piezas en 3D, especialmente se hace uso de estas transformaciónes al proyectar los resultados de la pieza 3D en la pantalla, así como a partir de movimientos y gestos realizados sobre la pantalla modificar la pieza 3D al agregar objetos en su mundo, esto sin contar con las transformaciónes intermedias para lograr algunos efectos en la pantalla como la iluminación."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcomputing.github.io/showcase/docs/visual_computing/workshops/main_spaces/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-05-24T18:15:01-05:00"><title>Main Spaces | Visual Computing</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.c18149f141d11a9ca3294c70c4d930f38174605bea2577bfdcc65f12fb9ad895.js integrity="sha256-wYFJ8UHRGpyjKUxwxNkw84F0YFvqJXe/3MZfEvua2JU=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Visual Computing</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Visual Computing</span><ul><li><a href=/showcase/docs/visual_computing/logs/>Logs</a></li><li><a href=/showcase/docs/visual_computing/profiles/>Profiles</a></li><li><input type=checkbox id=section-29bdbf19413e05c2e701868288e4ab17 class=toggle>
<label for=section-29bdbf19413e05c2e701868288e4ab17 class="flex justify-between"><a href=/showcase/docs/visual_computing/template_examples/>Template Examples</a></label><ul><li><a href=/showcase/docs/visual_computing/template_examples/buttons/>Buttons</a></li><li><a href=/showcase/docs/visual_computing/template_examples/columns/>Columns</a></li><li><a href=/showcase/docs/visual_computing/template_examples/details/>Details</a></li><li><a href=/showcase/docs/visual_computing/template_examples/expand/>Expand</a></li><li><a href=/showcase/docs/visual_computing/template_examples/hints/>Hints</a></li><li><a href=/showcase/docs/visual_computing/template_examples/katex/>Katex</a></li><li><a href=/showcase/docs/visual_computing/template_examples/mermaid/>Mermaid</a></li><li><input type=checkbox id=section-619959e653037cbeb27c2fc2f70843f1 class=toggle>
<label for=section-619959e653037cbeb27c2fc2f70843f1 class="flex justify-between"><a href=/showcase/docs/visual_computing/template_examples/p5/>P5</a></label><ul><li><a href=/showcase/docs/visual_computing/template_examples/p5/div/>Div</a></li><li><a href=/showcase/docs/visual_computing/template_examples/p5/iframe/>Iframe</a></li></ul></li><li><a href=/showcase/docs/visual_computing/template_examples/tabs/>Tabs</a></li></ul></li><li><input type=checkbox id=section-43decbbd35cace6c4f05150232266586 class=toggle checked>
<label for=section-43decbbd35cace6c4f05150232266586 class="flex justify-between"><a href=/showcase/docs/visual_computing/workshops/>Workshops</a></label><ul><li><a href=/showcase/docs/visual_computing/workshops/anti_aliasing/>Anti Aliasing</a></li><li><a href=/showcase/docs/visual_computing/workshops/illutions/>Illutions</a></li><li><a href=/showcase/docs/visual_computing/workshops/main_spaces/ class=active>Main Spaces</a></li></ul></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Main Spaces</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#taller-main-spaces><strong>Taller Main Spaces</strong></a><ul><li><ul><li><a href=#1-introducción><strong>1. Introducción</strong></a></li><li><a href=#2-revisión-bibliográfica><strong>2. Revisión bibliográfica</strong></a></li><li><a href=#3-métodos><strong>3. Métodos</strong></a></li><li><a href=#5-discusión><strong>5. Discusión</strong></a></li><li><a href=#6-conclusión><strong>6. Conclusión</strong></a></li><li><a href=#7-referencias><strong>7. Referencias</strong></a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=taller-main-spaces><strong>Taller Main Spaces</strong>
<a class=anchor href=#taller-main-spaces>#</a></h1><h3 id=1-introducción><strong>1. Introducción</strong>
<a class=anchor href=#1-introducci%c3%b3n>#</a></h3><p>En este taller se exploraron las posibilidades de las transformaciones espaciales para la producción de piezas en 3D, especialmente se hace uso de estas transformaciónes al proyectar los resultados de la pieza 3D en la pantalla, así como a partir de movimientos y gestos realizados sobre la pantalla modificar la pieza 3D al agregar objetos en su mundo, esto sin contar con las transformaciónes intermedias para lograr algunos efectos en la pantalla como la iluminación.</p><h3 id=2-revisión-bibliográfica><strong>2. Revisión bibliográfica</strong>
<a class=anchor href=#2-revisi%c3%b3n-bibliogr%c3%a1fica>#</a></h3><p>Dentro de las transformaciones espaciales que podemos encontrar diferentes conjuntos de transformaciones que nos pueden ayudar a producir todo tipo de figuras en un espacio 3D.</p><h4 id=transformaciones-lineales>Transformaciones lineales
<a class=anchor href=#transformaciones-lineales>#</a></h4><p>El primero de estos tipos es transformaciones lineales, estas comprenden la rotación, cambio de escala, proyexión ortogonal, y reflexión.</p><p>Para realizar una transformación lineal hay dos caminos, transformar el espacio de coordenadas en el que se esta dibujando o transformar el objeto. Cualquiera de estas opciones es equivalente a la otra en el sentido opuesto, por ejemplo rotar un objeto 20° en el sentido de las manecillas del reloj es equivalente a rotar el espacio de coordenadas del objeto 20° en el sentido contrario a las manecillas del reloj. De igual forma, una combinación de transformaciones lineales a un objeto es equivalente las mismas operaciónes en sentido y orden contrario. Para poder realizar estas transformaciones se utilizan operaciónes matriciales sobre las coordenadas.</p><p>Las matrices que nos permiten realizar estas transfotmaciones son:</p><h5 id=rotación-sobre-un-eje-aleatorio>Rotación sobre un eje aleatorio
<a class=anchor href=#rotaci%c3%b3n-sobre-un-eje-aleatorio>#</a></h5><p>En este se realiza una rotación en un angulo
<link rel=stylesheet href=/showcase/katex/katex.min.css><script defer src=/showcase/katex/katex.min.js></script>
<script defer src=/showcase/katex/auto-render.min.js onload=renderMathInElement(document.body)></script><span>
\(\theta\)</span>
sobre un eje definido por un vector unitario <span>\(n\)</span>
, esto permite realizar la rotación en cualquier sentido incluido el de cualquiera de los ejes x, y o z
<span>\[R(n,\theta) =
\begin{bmatrix}
p'\\
q'\\
r'
\end{bmatrix}\\
R(n,\theta) =
\begin{bmatrix}
n_x^2(1-cos \theta) + cos\theta & n_x n_y(1-cos \theta) + n_z sin \theta & n_x n_z(1-cos \theta) + n_y sin \theta\\
n_x n_y(1-cos \theta) - n_z sin\theta & n_y^2(1-cos \theta) + cos \theta & n_y n_z(1-cos \theta) + n_x sin \theta\\
n_x n_z(1-cos \theta) + n_y sin\theta & n_y n_z(1-cos \theta) - n_x sin \theta & n_z^2(1-cos \theta) + cos \theta\\
\end{bmatrix}\]</span></p><h5 id=escalamiento-en-una-dirección-aleatoria>Escalamiento en una dirección aleatoria
<a class=anchor href=#escalamiento-en-una-direcci%c3%b3n-aleatoria>#</a></h5><p>En este se realiza un escalado por un factor <span>\(k\)</span>
en un eje definido por un vector unitario <span>\(n\)</span>
, esto permite realizar el escalamiento en cualquier sentido incluido el de cualquiera de los ejes x, y o z
<span>\[S(n,k) =
\begin{bmatrix}
p'\\
q'\\
r'
\end{bmatrix}=
\begin{bmatrix}
1+(k-1)n_x^2 & (k-1)n_x n_y & (k-1)n_x n_z\\
(k-1)n_x n_y & 1+(k-1)n_y^2 & (k-1)n_y n_z\\
(k-1)n_x n_z & (k-1)n_y n_z & 1+(k-1)n_z^2\\
\end{bmatrix}\]</span></p><h5 id=proyección-y-reflexión-sobre-en-un-plano-aleatorio>Proyección y reflexión sobre en un plano aleatorio
<a class=anchor href=#proyecci%c3%b3n-y-reflexi%c3%b3n-sobre-en-un-plano-aleatorio>#</a></h5><p>Estas operaciones son derivadas del escalamiento, en el caso de la proyección se realiza escalando por un factor de 0 en la dirección en la que se quiere proyectar la figura y en el caso de la reflexión se aplica un factor de -1, por simplicidad no se presenta las matrices de estas transformación, que se derivan de la matriz de escalamiento remplazando k por 0 o por -1 respectivamente.</p><p>finalmente todas estas transformaciones se pueden concatenar multiplicando sus matrices respectivas en el orden en el que se desean aplicar las transformaciones.</p><h4 id=transformaciones-afines>Transformaciones Afines
<a class=anchor href=#transformaciones-afines>#</a></h4><p>Todas las transformaciones vistas anteriormente se realizan con relación a un eje que pasa por el origen, sin emabrgo, esto no es siempre lo que se desea. Las transformaciones afines introducen la traslación, siendo definidas como una transformación lineal seguida por una traslación, es por esto que se considera a las transformaciones lineales como un subconjunto de las transformaciones afines. Cualquier transformación <span>\( v' = vM + b \)</span>
es una transformación afin.</p><p>Para poder realizar cualquier traslación ya una matriz de 3x3 no es suficiente, es por eso que se utiliza una notación de matrices extendidas de 4x4 equivalentes a las matrices ya vistas, pero con una conluma y fila añadidas, en un eje llamado comunmente w esto se ve reprecentado en la siguiente operación:</p><span>\[\begin{bmatrix}
x & y & z & 1
\end{bmatrix}
\begin{bmatrix}
1 & 0 & 0 & 0\\
0 & 1 & 0 & 0\\
0 & 0 & 1 & 0\\
\Delta x & \Delta y & \Delta z & 1
\end{bmatrix} =
\begin{bmatrix}
x + \Delta x & y + \Delta y & z + \Delta z & 1
\end{bmatrix}\]</span><p>Esto nos muestra exactamente como se aplica una traslación sobre la matriz de 4x4.
En transformación afin, en donde se realiza una transformación linearl R y una traslación T</p><p><span>\[R =
\begin{bmatrix}
r_11 & r_12 & r_13 & 0\\
r_21 & r_22 & r_23 & 0\\
r_31 & r_32 & r_33 & 0\\
0 & 0 & 0 & 1\\
\end{bmatrix}
T =
\begin{bmatrix}
1 & 0 & 0 & 0\\
0 & 1 & 0 & 0\\
0 & 0 & 1 & 0\\
\Delta x & \Delta y & \Delta z & 1
\end{bmatrix} \]</span>
Es posible calcular un punto <span>\( v'\)</span>
a partir del punto <span>\( v\)</span>
de la siguiente forma:
<span>\[
v' = vRT \]</span>
<span>\[
Lo cual finalmente nos permite definir la matriz de una transformación afin como:
\begin{bmatrix}
r_11 & r_12 & r_13 & 0\\
r_21 & r_22 & r_23 & 0\\
r_31 & r_32 & r_33 & 0\\
\Delta x & \Delta y & \Delta z & 1
\end{bmatrix} \]</span>
Ya con esta herramienta es posible realizar la cualquier tipo de rotación, reflexión, proyección o escalamiento sobre un eje que no pase por el origen, permitiendo una infinidad de operaciones en el espacio incluidas las necesarías para visualizar y manipular desde distintos puntos una escena, ya sea desde un ojo o camara, en el mundo o en sus espacios intermedios.</p><h3 id=3-métodos><strong>3. Métodos</strong>
<a class=anchor href=#3-m%c3%a9todos>#</a></h3><p>Con la intención de mostrar la manipulación de objetos en 3D se implementa el pincel 3D, aprovechando la libreria de inteligencia artificial ML5.js, la cual posee un modelo preentrenado que permite hacer el reconocimiento de manos con base en los fotogramas de un video, este modelo ubica 20 puntos de la mano en un sistema de coordenadas con relación al video, pero que tambien incluye un eje Z con una aproximación de la profundidad.Para el pincel se decidio que el usuario pinte con la punta del dedo indice. Este pincel 3D dispone de 5 botonoes, uno para intercambiar el pincel que se usa, el cual se puede ser un conejo, una calavera o una paleta. El segundo boton permirte cambiar el color con el que se pinta. El tercer boton permite habilitar o deshabilitar el pincel. Finalmente los ultimos dos botones permiten exportar e importar respectivamente un dibujo en un archivo JSON. Adicionalmetente y como ayuda para el usuario se muestra en la esquina inferior la imagen de la camara y en la pantalla se muestra en todo momento la posición del pincel.</p><script src=/showcase/scripts/p5.min.js></script>
<script src=/showcase/scripts/p5.sound.min.js></script>
<script src=/showcase/scripts/p5.treegl.js></script>
<script src=/showcase/scripts/ml5.min.js></script>
<link rel=stylesheet type=text/css href=/showcase/scripts/style.css><script src=/showcase/scripts/hermann-ml.js></script><div id=hermann-ml></div><h3 id=5-discusión><strong>5. Discusión</strong>
<a class=anchor href=#5-discusi%c3%b3n>#</a></h3><p>Es interesante todas las transformaciones que se dan detras de este pincel, se pueden ver cambios de espacios entre la pantalla y el mundo pero ademas se pueden ver las tranformaciones más simples en diferentes partes, un ejemplo es un reflejo de la camara para que el usuario pueda dibujar mejor, o las traslaciones usadas para el posicionamiento de los botones y demas objetos de la interfz, de la misma manera se ven efectos más complejos cuendo entramos a manipular la camara, causando rotaciones combinadas con traslaciones y escalamiento en diferentes ejes. Otra de las transformaciones interesantres es la que se realiza al posicionar la luz con respecto al mouse para cambiar la iluminación de lo dibujado y poder denotar bien la forma de los diferentes pinceles.</p><p>Una extensión de este proyecto se podría dar mejorando el modelo de machine learning que se usa para la detección de la mano, esto con el objetivo de permitir el reconocimiento de dos manos o mejorar la precisión de la aproximación del eje Z la cual no es muy estable y es propensa a errores. tambien se podría permitir al usuario cargar sus propios pinceles y controlar la interfaz con solo gestos, sin embargo, esto ultimo estaría atado a mejorar el modelo incluyento la capasidad de detectar las 2 manos y diferenciarlas, o de un cambio en la forma de captar los movimientos y gestos.</p><h3 id=6-conclusión><strong>6. Conclusión</strong>
<a class=anchor href=#6-conclusi%c3%b3n>#</a></h3><ol><li>A pesar de que la inteligencia artificial ya permite obtener mucha información a partir de imagenes es realmente complejo el realizar un mapero de profundidad a partir de esto, sin embargo a medida que avanza esta disiplina es posible que llege a proveer resultados lo suficientemente buenos para casos de usos como el de este pincel 3D</li><li>A partir de las transformaciones afines es posible llegar a reprecentar matematicamente todo tipo de escenarios 3D y transformarlos de una forma ordenada, la cual permite abstraer toda la logica para poderse sentrar en la composición sin tener que preocuparse por todas las matematicas que soportan esto.</li></ol><h3 id=7-referencias><strong>7. Referencias</strong>
<a class=anchor href=#7-referencias>#</a></h3><ul><li><a href=https://tfetimes.com/wp-content/uploads/2015/04/F.Dunn-I.Parberry-3D-Math-Primer-for-Graphics-and-Game-Development.pdf>3D Math Primer for Graphics and Game Development</a></li><li><a href=https://learn.ml5js.org/#/reference/handpose>Handpose</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/5fcff9e21bd64c80ed69718c1b11969f117f32f1 title="Last modified by cristian vargas | May 24, 2022" target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>May 24, 2022</span></a></div></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#taller-main-spaces><strong>Taller Main Spaces</strong></a><ul><li><ul><li><a href=#1-introducción><strong>1. Introducción</strong></a></li><li><a href=#2-revisión-bibliográfica><strong>2. Revisión bibliográfica</strong></a></li><li><a href=#3-métodos><strong>3. Métodos</strong></a></li><li><a href=#5-discusión><strong>5. Discusión</strong></a></li><li><a href=#6-conclusión><strong>6. Conclusión</strong></a></li><li><a href=#7-referencias><strong>7. Referencias</strong></a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>